<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hydra Doom</title>
    <link rel="stylesheet" href="./styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Experience Doom running on Blockchain powered by Cardano’s Hydra technology in this tech demo."
    />
    <link rel="icon" type="image/png" href="assets/images/favicon.png" />

    <meta property="og:title" content="Hydra Doom" />
    <meta
      property="og:description"
      content="Experience Doom running on Blockchain powered by Cardano’s Hydra technology in this tech demo."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://hydra.family" />
    <meta property="og:image" content="/assets/images/social-image.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Hydra Doom" />
    <meta
      name="twitter:image"
      content="/assets/images/social-image-twitter.jpg"
    />
  </head>
  <body>
    <div class="layer--wrapper">
      <a
        target="_blank"
        class="hydra-logo js-hide-when-modal-opens"
        href="https://hydra.family"
      >
        <img src="assets/images/hydra-logo-2-0x.png" alt="Hydra Logo" />
      </a>
      <a
        target="_blank"
        class="sundae-labs-logo js-hide-when-modal-opens"
        href="https://sundae.fi/"
      >
        <img src="assets/images/sundae-labs-logo.svg" alt="Sundae Labs Logo" />
      </a>
      <main class="layer--base">
        <h1 class="doom-logo js-hide-when-modal-opens">
          <img
            srcset="
              assets/images/hydra-text-1-0x.png 1200w,
              assets/images/hydra-text-1-5x.png 1920w
            "
            sizes="(max-width: 1200px) 1200px, 1920px"
            src="assets/images/hydra-text-1-0x.png"
            alt="Hydra Doom"
          />
        </h1>
        <div class="js-hide-when-modal-opens">
          <button
            id="start"
            class="play-doom-button"
            data-modal-target="modal-game"
          >
            <span>Play Doom On Hydra</span>
          </button>
        </div>
      </main>
      <div class="layer--bg">
        <img
          class="bg--main"
          srcset="
            assets/images/bg-0-5x.jpg  768w,
            assets/images/bg-1-0x.jpg 1200w,
            assets/images/bg-1-5x.jpg 1920w
          "
          sizes="(max-width: 768px) 768px, (max-width: 1200px) 1200px, 1920px"
          src="assets/images/bg-1-0x.jpg"
          alt=""
        />
      </div>
      <div class="layer--foreground">
        <div class="bg--guy"></div>
      </div>
    </div>
    <div id="modal-fallback" class="modal" role="dialog">
      <div class="modal__outer-container">
        <div class="modal__container">
          <div class="modal__outer-border">
            <div class="modal__top-left-bar"></div>
            <div class="modal__top-right-bar"></div>
            <div class="modal__bottom-left-bar"></div>
            <div class="modal__bottom-right-bar"></div>
            <div class="modal__mid-gradient">
              <div class="modal__inner-border">
                <div class="modal__content">
                  <p>To experience DOOM on Hydra, please visit on desktop.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <a target="_blank" class="hydra-logo" href="https://hydra.family">
          <img src="assets/images/hydra-logo-2-0x.png" alt="Hydra Logo" />
        </a>
        <a target="_blank" class="sundae-labs-logo" href="https://sundae.fi/">
          <img
            src="assets/images/sundae-labs-logo.svg"
            alt="Sundae Labs Logo"
          />
        </a>
      </div>
    </div>
    <div
      id="modal-intro"
      class="modal modal"
      role="dialog"
      data-modal-auto-open
    >
      <div class="modal__outer-container">
        <div class="modal__container">
          <div class="modal__outer-border">
            <div class="modal__top-left-bar"></div>
            <div class="modal__top-right-bar"></div>
            <div class="modal__bottom-left-bar"></div>
            <div class="modal__bottom-right-bar"></div>
            <div class="modal__mid-gradient">
              <div class="modal__inner-border">
                <div class="modal__content">
                  <button
                    type="button"
                    class="modal__close-btn"
                    data-modal-close
                    aria-label="Close modal"
                  >
                    X
                  </button>
                  <h1>Welcome to Hydra Doom</h1>
                  <p>
                    Hydra Doom is a technology demonstration showcasing one of
                    Cardano’s scaling solutions called Hydra using the shareware
                    levels of the 1993 id software game Doom.
                  </p>
                  <p>
                    While you are playing, the game states will be streamed into
                    a Hydra head, which uses Cardano smart contracts to validate
                    the game transition for every frame, in real time. It’s a
                    passion project put together by a small team, including
                    Sundae labs, Adam Dean, and a few folks from IOG, in a short
                    amount of time. All the code is fully open sourced.
                  </p>
                  <p>
                    Hydra Doom is intended as a light-hearted tech demo and is
                    not a commercial product.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <a target="_blank" class="hydra-logo" href="https://hydra.family">
          <img src="assets/images/hydra-logo-2-0x.png" alt="Hydra Logo" />
        </a>
        <a target="_blank" class="sundae-labs-logo" href="https://sundae.fi/">
          <img
            src="assets/images/sundae-labs-logo.svg"
            alt="Sundae Labs Logo"
          />
        </a>
      </div>
    </div>
    <div id="modal-game" class="modal modal--game" role="dialog">
      <a target="_blank" class="hydra-logo" href="https://hydra.family">
        <img src="assets/images/hydra-logo-2-0x.png" alt="Hydra Logo" />
      </a>
      <a target="_blank" class="sundae-labs-logo" href="https://sundae.fi/">
        <img src="assets/images/sundae-labs-logo.svg" alt="Sundae Labs Logo" />
      </a>
      <div class="game-view-wrapper">
        <header class="header">
          <nav class="header__nav">
            <ul>
              <li>
                <button data-modal-target="modal-what-is-hydra">
                  What is Hydra?
                </button>
              </li>
              <li>
                <button data-modal-target="modal-why-doom">Why Doom?</button>
              </li>
              <li>
                <button data-modal-target="modal-how-it-works">
                  How it works
                </button>
              </li>
            </ul>
          </nav>
          <button class="header__wallet"><span>Connect Wallet</span></button>
        </header>
        <div class="three-columns">
          <div>
            <article class="block">
              <h4 class="block__heading">Global Totals</h4>
              <div class="card card--stats">
                <table>
                  <tr>
                    <td>transactions:</td>
                    <td id="txps">1747</td>
                  </tr>
                  <tr>
                    <td>bytes:</td>
                    <td id="bps">343044</td>
                  </tr>
                  <tr>
                    <td>kills:</td>
                    <td id="kills">0</td>
                  </tr>
                  <tr>
                    <td>items:</td>
                    <td id="items">0</td>
                  </tr>
                  <tr>
                    <td>secrets:</td>
                    <td id="secrets">0</td>
                  </tr>
                  <tr>
                    <td>play_time:</td>
                    <td id="playTime">0</td>
                  </tr>
                </table>
              </div>
            </article>
            <article class="block">
              <h4 class="block__heading">Session Totals</h4>
              <div class="card card--stats">
                <table>
                  <tr>
                    <td>transactions:</td>
                    <td>1747</td>
                  </tr>
                  <tr>
                    <td>bytes:</td>
                    <td>343044</td>
                  </tr>
                  <tr>
                    <td>kills:</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>items:</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>secrets:</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>play_time:</td>
                    <td>0</td>
                  </tr>
                </table>
              </div>
            </article>
            <article class="block">
              <h4 class="block__heading">Hydra Head Live Stats</h4>
              <div class="card card--stats card--console">
                <table>
                  <tr>
                    <td>hydraSend • {forwardMove: 255}</td>
                    <td>hydra.ts: 47</td>
                  </tr>
                  <tr>
                    <td>received • {forwardMove: '255'}</td>
                    <td>hydra.ts: 98</td>
                  </tr>
                  <tr>
                    <td>hydraRecv</td>
                    <td>hydra.ts: 82</td>
                  </tr>
                  <tr>
                    <td>glue in • Promise {&lt;pending&gt;}</td>
                    <td>websockets-doom. js: 803</td>
                  </tr>
                  <tr>
                    <td>stdout hydra recv: forwardmove=0</td>
                    <td>(index): 36</td>
                  </tr>
                  <tr>
                    <td>stdout hydra send: forwardmove=-2 buttons=1</td>
                    <td>(index) : 36</td>
                  </tr>
                </table>
              </div>
            </article>
          </div>
          <div>
            <div class="game-slot">
              <div class="game-slot__container">
                <canvas
                  id="canvas"
                  oncontextmenu="event.preventDefault()"
                  tabindex="-1"
                ></canvas>
              </div>
            </div>
          </div>
          <div>
            <article class="block">
              <h4 class="block__heading">Leaderboard</h4>
              <div class="card card--stats card--leaderboard">
                <table>
                  <tr>
                    <td>01</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>02</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>03</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>04</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>05</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>06</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>07</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>08</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>09</td>
                    <td>
                      <button
                        data-copy-clipboard="addr1v83kxv68wsfw12345678912345679j5pwkhjkr7txgrcrj0e"
                      >
                        addr1v83kxv68wsfw...j5pwkhjkr7txgrcrj0e
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </article>
            <article class="block">
              <h4 class="block__heading">TPS</h4>
              <div class="speedometer">
                <div
                  class="speedometer__tick"
                  data-speedometer-value="400"
                ></div>
              </div>
              <ul class="speedometer-labels">
                <li class="red">Main net max throughput</li>
                <li class="yellow">Session max throughput</li>
              </ul>
            </article>
            <article class="block">
              <div class="card card--small card--stats">
                <p>
                  A comparison between main net throughput (red), current
                  throughput of this Hydra head (white needle), the highest
                  recorded during the event (yellow) and the highest recorded
                  during benchmarking (max value).
                </p>
              </div>
            </article>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-how-it-works" class="modal" role="dialog">
      <div class="modal__outer-container">
        <div class="modal__container">
          <div class="modal__outer-border">
            <div class="modal__top-left-bar"></div>
            <div class="modal__top-right-bar"></div>
            <div class="modal__bottom-left-bar"></div>
            <div class="modal__bottom-right-bar"></div>
            <div class="modal__mid-gradient">
              <div class="modal__inner-border">
                <div class="modal__content">
                  <button
                    type="button"
                    class="modal__close-btn"
                    data-modal-close
                    aria-label="Close modal"
                  >
                    X
                  </button>
                  <h1>How it works</h1>
                  <p>
                    When you either connect your wallet or sign in as a guest,
                    you start a game session where each frame of the game - both
                    the game state and your mouse+keyboard inputs - are used to
                    create a smart contract transaction. This transaction is
                    then sent to a Hydra head where the smart contract execution
                    and signature is validated.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-what-is-hydra" class="modal" role="dialog">
      <div class="modal__outer-container">
        <div class="modal__container">
          <div class="modal__outer-border">
            <div class="modal__top-left-bar"></div>
            <div class="modal__top-right-bar"></div>
            <div class="modal__bottom-left-bar"></div>
            <div class="modal__bottom-right-bar"></div>
            <div class="modal__mid-gradient">
              <div class="modal__inner-border">
                <div class="modal__content">
                  <button
                    type="button"
                    class="modal__close-btn"
                    data-modal-close
                    aria-label="Close modal"
                  >
                    X
                  </button>
                  <h1>What is Hydra?</h1>
                  <p>
                    Hydra is a type of L2 scaling solution for Cardano, called a
                    state channel. To learn more about Hydra, please visit the
                    Hydra.family website and join the Input Output discord.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-why-doom" class="modal" role="dialog">
      <div class="modal__outer-container">
        <div class="modal__container">
          <div class="modal__outer-border">
            <div class="modal__top-left-bar"></div>
            <div class="modal__top-right-bar"></div>
            <div class="modal__bottom-left-bar"></div>
            <div class="modal__bottom-right-bar"></div>
            <div class="modal__mid-gradient">
              <div class="modal__inner-border">
                <div class="modal__content">
                  <button
                    type="button"
                    class="modal__close-btn"
                    data-modal-close
                    aria-label="Close modal"
                  >
                    X
                  </button>
                  <h1>Why Doom?</h1>
                  <p>
                    “Can it run Doom?” is both a meme and a challenge, and it’s
                    high time we answer that question affirmatively for the
                    Cardano blockchain. As it happens, the Doom game engine is
                    well suited to work with Cardano smart contracts, and the
                    code is fully open source.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      // Setup configuration for doom-wasm
      var Module = {
        noInitialRun: true,
        preRun: () => {
          Module.FS.createPreloadedFile(
            "",
            "doom1.wad",
            "doom1.wad",
            true,
            true
          );
          Module.FS.createPreloadedFile(
            "",
            "default.cfg",
            "default.cfg",
            true,
            true
          );
        },
        printErr: (text) => {
          console.error(text);
        },
        postRun: () => {},
        canvas: (function () {
          var canvas = document.getElementById("canvas");
          canvas.addEventListener(
            "webglcontextlost",
            function (e) {
              alert("WebGL context lost. You will need to reload the page.");
              e.preventDefault();
            },
            false
          );
          return canvas;
        })(),
        print: (text) => {
          console.log("stdout", text);
        },
        setStatus: (text) => {
          console.log("setStatus", text);
        },
      };
    </script>
    <script defer type="text/javascript" src="websockets-doom.js"></script>
  </body>
</html>
