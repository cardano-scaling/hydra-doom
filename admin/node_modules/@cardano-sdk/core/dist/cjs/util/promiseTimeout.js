"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.promiseTimeout = void 0;
const errors_1 = require("../errors");
const promiseTimeout = (promise, timeout) => {
    let timeoutId;
    return Promise.race([
        promise,
        new Promise((_, reject) => (timeoutId = setTimeout(() => reject(new errors_1.TimeoutError('Failed to resolve the promise in time')), timeout)))
    ]).finally(() => {
        if (timeoutId)
            clearTimeout(timeoutId);
    });
};
exports.promiseTimeout = promiseTimeout;
//# sourceMappingURL=promiseTimeout.js.map